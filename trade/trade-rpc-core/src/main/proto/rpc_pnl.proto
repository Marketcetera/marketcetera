//
// this file is automatically generated
//
syntax = "proto3";
option java_generic_services = true;
option java_package = "org.marketcetera.trade.pnl";
option java_outer_classname = "TradePnlRpc";
import "rpc_base.proto";
import "rpc_paging.proto";
import "rpc_pnl_types.proto";
import "rpc_trade_types.proto";

// request the current positions for the user with the given user id
message CurrentPositionsRequest {
    string sessionId = 1; // session id of the authenticated session
    string userId = 2; // user id of owner of the positions
    PageRequest pageRequest = 3; // page request which indicates which page of data to return
}

// return the current positions for a user
message CurrentPositionsResponse {
    PageResponse pageResponse = 1;
    repeated PnlPosition position = 2;
}

// request the profit and loss data for the user with the given user id
message ProfitAndLossRequest {
    string sessionId = 1;
    Instrument instrument = 2;
    string userId = 3;
    PageRequest pageRequest = 4;
}

// return the profit and loss data for a user
message ProfitAndLossResponse {
    PageResponse pageResponse = 1;
    repeated ProfitAndLoss profitAndLossData = 2;
}

// services for Trade PnL
service TradePnlRpcService {
    rpc login(LoginRequest) returns (LoginResponse); // starts the session
    rpc logout(LogoutRequest) returns (LogoutResponse); // ends the session
    rpc heartbeat(HeartbeatRequest) returns (HeartbeatResponse); // keeps the session alive
    rpc getCurrentPositions(CurrentPositionsRequest) returns (CurrentPositionsResponse); // requests positions for a user
    rpc getProfitAndLoss(ProfitAndLossRequest) returns (ProfitAndLossResponse); // requests profit and loss for a user and an instrument
}
