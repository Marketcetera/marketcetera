<?eclipse.ant.import?>
<project>
	<target description="Create new Eclipse target platform" name="init-rcp-target">
		<available file="${ECLIPSE_HOME}" property="ECLIPSE_HOME.present"/>
		<antcall target="copy-rcp-target"/>
		<property name="GLAZEDLISTS_PLUGIN" value="com.publicobject.glazedlists_1.6.0.jar"/>
		<property name="CORE_PLUGIN" value="org.marketcetera.core_0.1.0.jar"/>
		<property name="ACTIVEMQ_PLUGIN" value="org.apache.activemq_4.0.0.jar"/>
		<property name="QUICKFIXJ_PLUGIN" value="org.quickfixj_1.0.0.jar"/>
		<property name="LOG4J_PLUGIN" value="org.apache.log4j_1.2.9.jar"/>
		<property name="CSV_PLUGIN" value="org.skife.kasparov.csv_1.0.0.jar"/>

		<get src="http://repo.marketcetera.org/eclipse/build/${GLAZEDLISTS_PLUGIN}" dest="${ECLIPSE_HOME}/plugins/${GLAZEDLISTS_PLUGIN}" usetimestamp="true"/>
		<get src="http://repo.marketcetera.org/eclipse/build/${CORE_PLUGIN}" dest="${ECLIPSE_HOME}/plugins/${CORE_PLUGIN}" usetimestamp="true"/>
		<get src="http://repo.marketcetera.org/eclipse/build/${ACTIVEMQ_PLUGIN}" dest="${ECLIPSE_HOME}/plugins/${ACTIVEMQ_PLUGIN}" usetimestamp="true"/>
		<get src="http://repo.marketcetera.org/eclipse/build/${QUICKFIXJ_PLUGIN}" dest="${ECLIPSE_HOME}/plugins/${QUICKFIXJ_PLUGIN}" usetimestamp="true"/>
		<get src="http://repo.marketcetera.org/eclipse/build/${LOG4J_PLUGIN}" dest="${ECLIPSE_HOME}/plugins/${LOG4J_PLUGIN}" usetimestamp="true"/>
		<get src="http://repo.marketcetera.org/eclipse/build/${CSV_PLUGIN}" dest="${ECLIPSE_HOME}/plugins/${CSV_PLUGIN}" usetimestamp="true"/>
	</target>

	<target description="Internal task to copy rcp target files" name="copy-rcp-target" unless="ECLIPSE_HOME.present">
		<copy todir="${ECLIPSE_HOME}">
			<fileset dir="${CLEAN_ECLIPSE_HOME}" includes="**/*"/>
		</copy>
	</target>

	<target name="javadoc" description="Generate Javadoc documentation">
		<javadoc destdir="target/javadoc" classpathref="Plug-in Dependencies.libraryclasspath">
			<packageset dir="src/main/java"></packageset>
			<link href="http://java.sun.com/javaee/5/docs/api/"/>
			<link href="http://java.sun.com/j2se/1.5.0/docs/api/"/>
			<link href="http://repo.marketcetera.org/javadoc/0.1-dev-preview/"/>
			<link href="http://kasparov.skife.org/csv/api/"/>
			<link href="http://publicobject.com/glazedlists/glazedlists-1.5.0/api/"/>
			<link href="http://www.quickfixj.org/quickfixj/javadoc/"/>
		</javadoc>
	</target>
</project>

